var OSMap = new function() {
  var cells = [
    
    	["sv","sw","sx","sy","sz","tv","tw"],
    	["sq","sr","ss","st","su","tq","tr"],
    	["sl","sm","sn","so","sp","tl","tm"],
    	["sf","sg","sh","sj","sk","tf","tg"],
    	["sa","sb","sc","sd","se","ta","tb"],
    	["nv","nw","nx","ny","nz","ov","ow"],
    	["nq","nr","ns","nt","nu","oq","or"],
    	["nl","nm","nn","no","np","ol","om"],
    	["nf","ng","nh","nj","nk","of","og"],
    	["na","nb","nc","nd","ne","oa","ob"]
    ];
  
  //LLXYCC
  
  this.getTile = function(x,y) {
    var x = Math.ceil(x/1000);
    var y = Math.ceil(y/1000);
    
    var cx = x%10;
    var cy = y%10;
    
    var compass = "";
    if(cx<5) {
      if(cy<5) {
        compass = "sw";
      } else {
        compass = "nw";
      }
    } else {
      if(cy<5) {
        compass = "se";
      } else {
        compass = "ne";
      }
    }
    
    var dx = Math.floor(x/10)%10;
    var dy = Math.floor(y/10)%10;
    
    var lx = Math.floor(x/100);
    var ly = Math.floor(y/100);
    
    var tile = cells[lx][ly]+dx+dy+compass+".png";
    
    return tile;
  };
  
  var pad = function(string) {
    while(pad.length<10) {
      pad = "0"+pad;
    }
  };
};


/*console.log("tile:"+OSMap.getTile(300000,600000));
console.log("tile:"+OSMap.getTile(5000,5000));
console.log("tile:"+OSMap.getTile(5001,5001));
console.log("tile:"+OSMap.getTile(10000,10000));
console.log("tile:"+OSMap.getTile(15001,15001));
console.log("tile:"+OSMap.getTile(100000,100000));
console.log("tile:"+OSMap.getTile(105001,105001));
console.log("tile:"+OSMap.getTile(115001,115001));
*/
