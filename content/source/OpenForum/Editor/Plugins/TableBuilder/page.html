<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TableBuilder</title>
    <link rel="stylesheet" href="/OpenForum/PageTemplates/Frameworks/Foundation/css/foundation.css" />
    <script src="/OpenForum/PageTemplates/Frameworks/Foundation/js/vendor/modernizr.js"></script>
    <script type="text/javascript" src="/OpenForum/Javascript/open-forum.js?ts=1711882996268"></script>
    <script type="text/javascript" src="/OpenForum/Editor/Plugins/TableBuilder/page.js?ts=1711882996268"></script>
    <link rel="stylesheet" href="/OpenForum/PageTemplates/Branding/branding.css?ts=1711882996268" />
    <!--OF insert (/OpenForum/PageTemplates/Branding/icon.html) start --><link rel="icon" href="/OpenForum/Images/open-forum-dog-small.png" /><!--OF insert (/OpenForum/PageTemplates/Branding/icon.html) end --> 

    <!--OF insert (/OpenForum/PageTemplates/CommonElements/header-script.common.html) start --><script>
  var pageName = "/OpenForum/Editor/Plugins/TableBuilder";
  var author = "unknown";
  var time = "1711882996268";
  var currentUser = "";
  var user = {};
  var avatar = "<img src='/OpenForum/Images/icons/png/user.png' style='width: 24px; height: 24px;' />";
  JSON.get("/OpenForum/Actions/User","getCurrentUser","currentPage="+pageName+"&referrer="+document.referrer+"&userAgent="+navigator.userAgent).onSuccess( function (response) {  currentUser = response.data.data;  } ).go();
  JSON.get("/OpenForum/Actions/User","getCurrentUserProfile").onSuccess( 
    function (response) {
      user.profile = response.data;
      if(response.data.avatar) {
        avatar = "<img src='" + response.data.avatar + "' style='width: 24px; height: 24px;' />";
      }
      if(response.data.privateProfile && response.data.privateProfile.extraOptions) {
        currentUserExtraOptions = response.data.privateProfile.extraOptions
      }
    }
  ).go();

  window.onerror = function(errorMsg, url, lineNumber) {
    OpenForum.error = errorMsg+" url:"+url+" line number:"+lineNumber;
    OpenForum.errorMessage = "Woops";
    $('#ofErrorMessage').foundation('reveal', 'open');

    OFX.post( 'https://open-forum.onestonesoup.org/OpenForum/AddOn/DataLogger/BrowserErrorLogger' )
      .withAction( 'logError' )
      .withData( {origin: window.location.origin, page: pageName, error: errorMsg+" lineNumber:"+lineNumber, userAgent: navigator.userAgent}).go();
  };

  window.alert = function(message,title) {
    if(!title) {
      title = "Open Forum";
    }
    OpenForum.alert = { message: message, title: title};
    $('#ofAlertMessage').foundation('reveal', 'open');
  };
</script><!--OF insert (/OpenForum/PageTemplates/CommonElements/header-script.common.html) end -->

  </head>
  <body>
    <nav class="top-bar" data-topbar>
      <ul class="title-area">
        <li class="name">
          <h1>
            <!--OF insert (/OpenForum/PageTemplates/Branding/top-left-logo.page.content) start --><a href="/"><img src="/OpenForum/Images/open-forum-dog-small.png" style="max-width: 50px; max-height: 50px;"/></a><!--OF insert (/OpenForum/PageTemplates/Branding/top-left-logo.page.content) end -->
          </h1>
        </li>
      </ul>
      <ul class="title-area">
        <li class="name">
          <h1>
            <a href="#" title="TableBuilder"> Table Builder</a>
          </h1>
        </li>
      </ul>
      <!--OF insert (/OpenForum/PageTemplates/CommonElements/signin.common.html) start --><section class="top-bar-section">
  <ul class="right">

    <li class="divider"></li>

    <li class="has-dropdown">
      <a href="#">Access</a>
      <ul class="dropdown">
        <li of-repeatFor="reader in pageAccess.readers"><a href="<!--Extension Hash -->undefined<!--End Extension Hash -->" onClick="return false;">{{reader}}</a></li>
      </ul>
      <script>
        var pageAccess = {};
        JSON.get("/OpenForum/Actions/Access","getAccess","pageName=/OpenForum/Editor/Plugins/TableBuilder").onSuccess( function(response) {
          pageAccess = response;
        }).go();
      </script>
    </li>
    
    <li class="has-dropdown">
      <a href="#">Favourite Pages</a>
      <ul class="dropdown">
        <li of-repeatFor="pageEntry in user.profile.pageHistory"><a href="{{pageEntry.pageName}}">{{pageEntry.pageName}}</a></li>
      </ul>
    </li>

    <li class="divider"></li>

    <li class="has-dropdown">
      <a href="<!--Extension Hash -->undefined<!--End Extension Hash -->">Signed in as {{currentUser}} {{avatar}}</a>
      <ul class="dropdown">
        <li><a href="/OpenForum/Access/SignOut">Sign Out</a></li>
        <li><a href="<!--Extension Hash -->undefined<!--End Extension Hash -->" onClick="doSignIn(); return false;">Sign In as Different User</a></li>
        <script>
          var accessLoading = false;
          function doSignIn() {

            if(!OpenForum.Access) {
              if(!accessLoading) {
                OpenForum.loadScript("/OpenForum/Access/SignIn/page.js");
                accessLoading=true;
              }
              setTimeout(doSignIn,1000);
              return;
            }

            OpenForum.Access.showPopup();
          };
        </script>
        {{currentUserExtraOptions}}
      </ul>
    </li>
  </ul>
</section><!--OF insert (/OpenForum/PageTemplates/CommonElements/signin.common.html) end -->
    </nav>
    <!--Extension CrumbTrail --><nav class="breadcrumbs" role="menubar" aria-label="breadcrumbs"><li role="menuitem"><a href="/OpenForum">OpenForum</a></li><li role="menuitem"><a href="/OpenForum/Editor">Editor</a></li><li role="menuitem"><a href="/OpenForum/Editor/Plugins">Plugins</a></li><li role="menuitem" class="current"><a href="/OpenForum/Editor/Plugins">TableBuilder</a></li></nav><!--End Extension CrumbTrail -->

    <div style="padding-bottom: 100px;">
    <!--PageContent Start-->
<div id="tableBuilder" style="height: 100vh;background-color: #203d64; color: #eef7ee;">
    <div class="row" style="padding: 10px;">
    <b>Table Builder v0.0.1 Easter Rabbit Build</b>
  </div>
  <div> 
    <div class="large-3 columns">
<form>
  <div class='row'>
    <div class='large-12 columns'>
      <label style="color: #eef7ee;"><b>Table Name</b></label> <input type='text' id='tableBuilder.tableNameField' of-id='tableBuilder.tableName' placeholder=' ' />
    </div>
  </div>
  <div class='row'>
    <div class='large-12 columns'>
      <label style="color: #eef7ee;"><b>Columns</b></label> <div id="defaultEditor"><textarea id="editor{{editorIndex}}Src" style="height: 100%;">Loading...</textarea></div>
    </div>
  </div>
  <div class='row'>
    <div class='large-12 columns'>
      <p><b>Row Actions</b></p>
    </div>
  </div>
  <div class='row'>
    <div class='large-4 columns'>
      <label style="color: #eef7ee;"><b>Edit</b></label> <input type='checkbox' id='tableBuilder.actions.editField' of-id='tableBuilder.actions.edit' placeholder=' ' />
    </div>
    <div class='large-4 columns'>
      <label style="color: #eef7ee;"><b>Remove</b></label> <input type='checkbox' id='tableBuilder.actions.removeField' of-id='tableBuilder.actions.remove' placeholder=' ' />
    </div>
    <div class='large-4 columns'>
      <label style="color: #eef7ee;"><b>Move</b></label> <input type='checkbox' id='tableBuilder.actions.moveField' of-id='tableBuilder.actions.move' placeholder=' ' />
    </div>
  </div>
  <div class='row'>
    <div class='large-12 columns'>
      <p><b>Table Actions</b></p>
    </div>
  </div>
  <div class='row'>
        <div class='large-3 columns'>
      <label style="color: #eef7ee;"><b>Add row</b></label> <input type='checkbox' id='tableBuilder.actions.addField' of-id='tableBuilder.actions.add' placeholder=' ' />
    </div>
    <div class='large-3 columns'>
      <label style="color: #eef7ee;"><b>Save data</b></label> <input type='checkbox' id='tableBuilder.actions.saveField' of-id='tableBuilder.actions.save' placeholder=' ' />
    </div>
    <div class='large-3 columns'>
      <label style="color: #eef7ee;"><b>Search</b></label> <input type='checkbox' id='tableBuilder.actions.searchField' of-id='tableBuilder.actions.search' placeholder=' ' />
    </div>
    <div class='large-3 columns'>
      <label style="color: #eef7ee;"><b>Sort</b></label> <input type='checkbox' id='tableBuilder.actions.sortField' of-id='tableBuilder.actions.sort' placeholder=' ' />
    </div>
  </div>
        <a class='button tiny round' onClick="if( isUndefined(displayContentTab) ) { $('#tableBuilderInstructions').foundation('reveal', 'open'); } else { displayContentTab('/OpenForum/Editor/Plugins/TableBuilder','instructions.html.fragment','Table Builder Instructions') } return false;">Instructions</a>
</form>

    </div>

    <div class="large-3 columns">
      <b>Table</b>
      <div class="panel" id="theTable"></div>
    </div>

    <div class="large-6 columns">
      <b>Table Html</b>

      <!--Extension ScriptClip script="" id="tableBuilder.exampleTableHtml" --><div class='row'><div class='columns large-10'><textarea style='border: none; background-color: black; color: lightgreen; font-family: monospace;' of-id='tableBuilder.exampleTableHtml' id='tableBuilder.exampleTableHtml' rows='2' ></textarea></div><div class='columns large-2'><a href='#' title='Copy to clipboard' onClick='OpenForum.copyElement("tableBuilder.exampleTableHtml"); return false;'><img src='/OpenForum/Images/icons/png/page_copy.png' /></a></div></div><script>document.getElementById('tableBuilder.exampleTableHtml').setAttribute('readonly', 'readonly');</script><!--End Extension ScriptClip script="" id="tableBuilder.exampleTableHtml" -->

      <hr/>

      <b>Table Script</b>

      <!--Extension ScriptClip script="" id="tableBuilder.exampleTableScript" --><div class='row'><div class='columns large-10'><textarea style='border: none; background-color: black; color: lightgreen; font-family: monospace;' of-id='tableBuilder.exampleTableScript' id='tableBuilder.exampleTableScript' rows='2' ></textarea></div><div class='columns large-2'><a href='#' title='Copy to clipboard' onClick='OpenForum.copyElement("tableBuilder.exampleTableScript"); return false;'><img src='/OpenForum/Images/icons/png/page_copy.png' /></a></div></div><script>document.getElementById('tableBuilder.exampleTableScript').setAttribute('readonly', 'readonly');</script><!--End Extension ScriptClip script="" id="tableBuilder.exampleTableScript" -->

    </div>
  </div>
</div>

<!--Extension Popup id="tableBuilderInstructions" sourceFileName="instructions.wiki.fragment" sourcePageName="/OpenForum/Editor/Plugins/TableBuilder" --><div id="tableBuilderInstructions" class="reveal-modal" data-reveal aria-labelledby="tableBuilderInstructionsModalTitle" aria-hidden="true" role="dialog"><p>Enter a table name in the Table name field. The last word will be the data name for the table. The rows behind that will be the tables display name.</p>
<p>Enter column names, one per row, in the Columns text area. The last word in each row will be the column cells data name, the rows behind that will be the columns display name.</p>
<p>You can see a preview of the table in the Table panel and the html to build it in the far right hand column.</p>  <a class="close-reveal-modal" aria-label="Close">&#215;</a></div><!--End Extension Popup id="tableBuilderInstructions" sourceFileName="instructions.wiki.fragment" sourcePageName="/OpenForum/Editor/Plugins/TableBuilder" -->
<!--Content built using /OpenForum/Javascript/PageBuilder/default-page.builder.js 0.0.7 Gloomy November builder and renderer DefaultRenderer v1.08 2021 Covid release-->
<!--Page Content End-->
    </div>

    <!--OF insert (/OpenForum/PageTemplates/Footer/page.content) start --><!-- Generated by Page Block Editor v 0.0.1 -->
<footer style="background-color: black; padding-left: 50px;">
  <div>
    <div>
    <ul class="inline-list">
      <li><a href="https://open-forum.onestonesoup.org/OpenForum" style="color:white">About</a></li>
      <li>|</li>
      <li><a href="https://open-forum.onestonesoup.org" style="color:white">Open Forum @ OneStoneSoup.org</a></li>
      <li>|</li>
      <li><a href="https://open-forum.onestonesoup.org/OpenForumDocumentation/Introduction" style="color:white">Developers</a></li>
      <li class="right"><a href="https://open-forum.onestonesoup.org" style="color:white"><img src="/OpenForum/Images/powered-by.png" border="0"></a></li>
    </ul>
    </div>
  </div>
</footer>
<!--OF insert (/OpenForum/PageTemplates/Footer/page.content) end -->
    
    <!--OF insert (/OpenForum/PageTemplates/CommonElements/error-alert.common.html) start --><div id="ofErrorMessage" class="reveal-modal" data-reveal aria-labelledby="ofErrorMessageModalTitle" aria-hidden="true" role="dialog">
  <h2 id="ofErrorMessageModalTitle" class="alert-box alert round">An error has occurred.</h2>
  <p>{{OpenForum.errorMessage}}</p>
  <p><a href="#" data-reveal-id="ofErrorDetails" class="secondary button">See technical details</a></p>
  <a class="close-reveal-modal" aria-label="Close">&#215;</a>
</div>

<div id="ofErrorDetails" class="reveal-modal" data-reveal aria-labelledby="ofErrorModalTitle" aria-hidden="true" role="dialog">
  <h2 id="ofErrorModalTitle">Error details.</h2>
  <p>{{OpenForum.error}}</p>
  <a class="close-reveal-modal" aria-label="Close">&#215;</a>
</div><!--OF insert (/OpenForum/PageTemplates/CommonElements/error-alert.common.html) end -->
    <!--OF insert (/OpenForum/PageTemplates/CommonElements/alert.common.html) start --><div id="ofAlertMessage" class="reveal-modal" data-reveal aria-labelledby="ofAlertMessageModalTitle" aria-hidden="true" role="dialog">
  <h2 id="ofAlertMessageModalTitle" class="alert-box success round">{{OpenForum.alert.title}}</h2>
  <p>{{OpenForum.alert.message}}</p>
  <a class="close-reveal-modal" aria-label="Close">&#215;</a>
</div>
<!--OF insert (/OpenForum/PageTemplates/CommonElements/alert.common.html) end -->

    <script src="/OpenForum/PageTemplates/Frameworks/Foundation/js/vendor/jquery.js"></script>
    <script src="/OpenForum/PageTemplates/Frameworks/Foundation/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
    </script>
  </body>
</html>
